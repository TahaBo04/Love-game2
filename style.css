:root{
  --bg:#0b0f1a; --bg-soft:#0f1627;
  --fg:#eef3ff; --muted:#a8b6d1; --accent:#63ffe1;
  --card: rgba(255,255,255,.06); --border: rgba(255,255,255,.14);
  --ring: 0 0 0 2px rgba(99,255,225,.45), 0 0 28px rgba(99,255,225,.25);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:var(--bg); color:var(--fg);
}

/* Star canvas behind all */
#stars{ position:fixed; inset:0; z-index:-1;
  background: radial-gradient(1000px 500px at 70% -10%, #1b2550 0%, transparent 60%),
              radial-gradient(800px 400px at 10% -10%, #152046 0%, transparent 60%),
              linear-gradient(#0b0f1a,#0b0f1a);
}

/* Topbar */
.topbar{
  display:flex;justify-content:space-between;align-items:center;
  gap:10px; padding:12px 16px; border-bottom:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.01));
  backdrop-filter: blur(6px); position:sticky; top:0; z-index:10;
}
.brand{display:flex;align-items:center;gap:10px;font-weight:700}
.heart{filter: drop-shadow(0 0 10px rgba(255,120,160,.6))}
.muted{color:var(--muted); font-weight:600}
.actions{display:flex; gap:8px}
.btn{
  padding:8px 12px; border-radius:12px; border:1px solid var(--border);
  background:var(--card); color:var(--fg); cursor:pointer;
  transition:transform .12s, box-shadow .2s, border-color .2s;
}
.btn:hover{ transform: translateY(-1px); box-shadow: var(--ring); border-color: rgba(255,255,255,.25) }

/* Hero */
.hero{ text-align:center; padding:26px 12px 8px }
.hero h1{ margin:0 0 4px; font-size: clamp(24px, 4.5vw, 40px); font-weight:800; letter-spacing:.2px }
.accent{ color: var(--accent); text-shadow: 0 0 10px rgba(99,255,225,.5) }
.hint{ color:var(--muted); margin:0 }

/* Grid of cards */
.grid{
  display:grid; grid-template-columns: repeat(4, minmax(0,1fr));
  gap:10px; padding: 10px 12px 18px; max-width: 1000px; margin: 0 auto;
}
@media (max-width:900px){ .grid{ grid-template-columns: repeat(2, minmax(0,1fr)) } }
.card{
  background:var(--card); border:1px solid var(--border); border-radius:14px;
  text-align:center; padding:16px 10px; cursor:pointer;
  transition:transform .18s, box-shadow .25s, border-color .2s;
}
.card:hover{ transform: translateY(-4px); box-shadow: var(--ring); border-color: rgba(255,255,255,.25) }
.card .icon{ font-size:30px; margin-bottom:6px }
.card .label{ font-weight:700 }

/* Stage */
.stage{
  max-width:1000px; margin: 8px auto 22px; border:1px solid var(--border);
  border-radius:16px; overflow:hidden; background:var(--bg-soft);
  position:relative; min-height: 520px;
}
.stage::before{
  /* background image configured via inline --bgimg */
  content:""; position:absolute; inset:0; opacity:.28; z-index:0;
  background: #0e1730 center/cover no-repeat;
  background-image: var(--bgimg);
  filter: saturate(110%);
}
.stage-inner{ position:relative; z-index:1; padding:18px 14px }
.scene-title{ display:flex;align-items:center; gap:10px; margin:4px 0 8px; font-weight:800; font-size:22px }
.emoji{ font-size:24px }
.caption{ color:var(--muted); max-width:820px }

/* Scene visual area */
.scene-canvas{
  position:relative; height:260px; border-radius:12px; overflow:hidden;
  border:1px solid var(--border); background:rgba(0,0,0,.18); margin:8px 0 12px;
}

/* Minimal animations (always work even without images) */
.anim{ position:absolute; inset:0 }
.anim-home .sofa{ position:absolute; left:10%; bottom:22px; width:220px; height:56px; background:#244; border-radius:12px }
.anim-home .lamp{ position:absolute; left:calc(10% + 240px); bottom:22px; width:12px; height:80px; background:#233; border-radius:4px }
.anim-home .lamp::after{ content:""; position:absolute; top:-16px; left:-10px; width:32px; height:16px; border-radius:50%;
  background: radial-gradient(circle, rgba(255,247,142,.8), rgba(255,247,142,0) 60%); filter:blur(2px); animation:pulse 2s ease-in-out infinite }
@keyframes pulse{ 0%,100%{opacity:.7} 50%{opacity:1} }
.anim-home .frame{ position:absolute; right:8%; top:16%; width:220px; height:140px; border:2px solid rgba(255,255,255,.65); border-radius:12px;
  display:grid; place-items:center; font-weight:800; text-shadow:0 0 10px rgba(99,255,225,.6) }

/* Car */
.anim-car .road{ position:absolute; left:0; right:0; top:54%; height:4px; background:
  repeating-linear-gradient(90deg, transparent 0 28px, rgba(255,255,255,.8) 28px 48px);
  transform:translateY(-50%); animation:road 2.6s linear infinite }
@keyframes road{ from{ background-position-x:0 } to{ background-position-x:480px } }
.anim-car .car{ position:absolute; bottom:26px; left:-140px; width:120px; height:50px; background:#2ed3c6; border-radius:12px;
  box-shadow:0 12px 18px rgba(0,0,0,.35); animation:drive 6s ease-in-out infinite }
.anim-car .car::before, .anim-car .car::after{ content:""; position:absolute; bottom:-12px; width:26px; height:26px; background:#0a0a0a; border-radius:50% }
.anim-car .car::before{ left:12px } .anim-car .car::after{ right:12px }
#plate{ position:absolute; bottom:-18px; left:50%; transform:translateX(-50%); background:#fff; color:#111; padding:2px 6px; border-radius:4px; font-weight:800; font-size:12px }
@keyframes drive{ 0%{ transform:translateX(0)} 50%{ transform:translateX(680px)} 100%{ transform:translateX(0)} }

/* Plane */
.anim-plane .plane{ position:absolute; left:0; top:60%; animation:fly 7s ease-in-out infinite }
@keyframes fly{ 0%{ transform: translateX(0) translateY(0) } 50%{ transform: translateX(620px) translateY(-140px) } 100%{ transform: translateX(0) translateY(0) } }
.anim-plane .path{ position:absolute; left:4%; right:4%; bottom:18%; height:2px; background:linear-gradient(90deg, rgba(255,255,255,.2) 40%, rgba(255,255,255,.6) 60%) }

/* Picnic */
.anim-picnic .blanket{ position:absolute; left:50%; top:60%; transform:translate(-50%,-50%) rotate(2deg);
  width:240px; height:120px; border-radius:12px; border:1px solid rgba(255,255,255,.25);
  background:linear-gradient(45deg, rgba(255,255,255,.2) 25%, transparent 25%, transparent 75%, rgba(255,255,255,.2) 75%),
             linear-gradient(45deg, rgba(255,255,255,.2) 25%, transparent 25%, transparent 75%, rgba(255,255,255,.2) 75%);
  background-size:26px 26px; background-position:0 0, 13px 13px }
.anim-picnic .note{ position:absolute; left:calc(50% + 120px); top:42%; border:none; background:none; font-size:26px; cursor:pointer;
  filter: drop-shadow(0 0 10px rgba(255,180,200,.6)); animation:bob 2.2s ease-in-out infinite }
@keyframes bob{ 0%,100%{ transform:translateY(0)} 50%{ transform:translateY(-6px)} }

.footer{ text-align:center; color:var(--muted); padding:14px }

/* Light theme */
body.light{
  --bg:#f7fbff; --bg-soft:#ffffff; --fg:#0b0f1a; --muted:#2a364b;
  --card:rgba(0,0,0,.05); --border:rgba(0,0,0,.12);
}
