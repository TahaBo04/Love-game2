:root{
  --fg: #ffffff;
  --fg-dim: #b8c1d1;
  --bg: #0b0f1a;
  --bg-soft: #101727;
  --accent: #63ffe1;
  --glow: 0 0 18px rgba(99,255,225,0.6), 0 0 36px rgba(99,255,225,0.25);
  --card: rgba(255,255,255,0.06);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: var(--bg);
  color: var(--fg);
  font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  overflow-x:hidden;
}

/* Stars canvas behind everything */
#stars{
  position:fixed; inset:0;
  z-index:-1;
  background: radial-gradient(1200px 600px at 70% -10%, #1b2550 0%, transparent 60%),
              radial-gradient(800px 400px at 10% -10%, #152046 0%, transparent 60%),
              linear-gradient(#0b0f1a, #0b0f1a);
}

/* Top bar */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px;
  backdrop-filter: blur(6px);
  background: linear-gradient(180deg, rgba(16,23,39,0.75), rgba(16,23,39,0.15));
  border-bottom: 1px solid rgba(255,255,255,0.06);
  position:sticky; top:0; z-index:10;
}
.brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.3px}
#logoHeart{filter: drop-shadow(0 0 10px rgba(255,80,170,.6))}
.controls{display:flex; gap:8px}
.pill{
  background: var(--card);
  color: var(--fg);
  border: 1px solid rgba(255,255,255,0.12);
  padding:8px 12px; border-radius: 999px; cursor:pointer;
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s;
}
.pill:hover{transform: translateY(-1px); box-shadow: var(--glow); border-color: rgba(255,255,255,0.25)}

/* Hero */
.hero{
  text-align:center; padding: 36px 16px 14px;
}
.hero h1{ margin:0 0 6px; font-size: clamp(24px, 4vw, 36px); font-weight:800 }
.hero small{ color: var(--fg-dim); font-weight:600 }
.hint{ color: var(--fg-dim); margin: 4px 0 10px }

/* Grid */
.grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap:10px; padding: 0 12px 18px; max-width: 980px; margin: 0 auto;
}
@media (max-width:900px){
  .grid{grid-template-columns: repeat(2, minmax(0,1fr))}
}
.card{
  background: var(--card);
  border: 1px solid rgba(255,255,255,0.12);
  padding: 18px 10px; border-radius: 14px; text-align:center; cursor:pointer;
  transition: transform .2s ease, box-shadow .25s ease, border-color .25s ease;
}
.card:hover{ transform: translateY(-4px); box-shadow: var(--glow); border-color: rgba(255,255,255,0.25) }
.card .icon{ font-size: 32px; margin-bottom: 6px }
.card .label{ font-weight:700; letter-spacing:.2px }

/* Stage + Scenes */
#stage{ max-width: 980px; margin: 8px auto 24px; padding: 0 12px; min-height: 360px }
.scene{ 
  display:none; 
  background: var(--bg-soft);
  border:1px solid rgba(255,255,255,0.08);
  border-radius: 16px; padding: 16px; position:relative; overflow:hidden;
  box-shadow: 0 10px 40px rgba(0,0,0,.25);
}
.scene[aria-hidden="false"]{ display:block; animation: pop .35s ease }
@keyframes pop{ from{ transform: scale(.98); opacity:0 } to{ transform: scale(1); opacity:1 } }

.caption{
  margin: 14px 10px 0; color: var(--fg-dim); text-align:center; font-weight:500;
}

/* HOME scene visuals */
.room{
  position:relative; height: 260px; border-radius: 12px;
  background: linear-gradient(180deg, #111a2d, #0e172a 40%, #0a1222);
  overflow:hidden; border:1px solid rgba(255,255,255,0.06);
}
.sofa{
  position:absolute; bottom:18px; left:12%; width: 220px; height: 56px;
  border-radius: 12px; background: #244; box-shadow: inset 0 8px 16px rgba(0,0,0,.35);
}
.lamp{
  position:absolute; bottom: 18px; left: calc(12% + 240px); width: 12px; height: 80px; background: #233; border-radius: 4px;
}
.lamp::after{
  content:""; position:absolute; top:-16px; left:-10px; width: 32px; height: 16px; border-radius: 50%;
  background: radial-gradient(circle at 50% 50%, rgba(255,247,142,.8), rgba(255,247,142,.0) 60%);
  filter: blur(2px);
  animation: pulse 2s ease-in-out infinite;
}
@keyframes pulse{ 0%,100%{ opacity:.7 } 50%{ opacity:1 } }

.frame{
  position:absolute; right:8%; top: 16%; width: 220px; height: 140px;
  border: 2px solid rgba(255,255,255,0.6); border-radius: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
}
.glow{ box-shadow: var(--glow) }
.frame-inner{
  position:absolute; inset:8px; border-radius:10px;
  background: radial-gradient(120px 60px at 50% 50%, rgba(99,255,225,.22), rgba(99,255,225,.05) 60%);
}
.frame-names{ 
  position:absolute; inset:0; display:grid; place-items:center; 
  font-weight:800; letter-spacing:.8px; text-shadow: 0 0 14px rgba(99,255,225,.65)
}

/* CAR scene */
.road{
  position:relative; height: 220px; border-radius: 12px; overflow:hidden;
  background: linear-gradient(180deg, #0b0f1a 0%, #0b0f1a 45%, #1f2433 46%, #1f2433 100%);
}
.dashes{
  position:absolute; left:0; right:0; top:54%; height:4px;
  background: repeating-linear-gradient(90deg, transparent 0 28px, rgba(255,255,255,.8) 28px 48px);
  transform: translateY(-50%);
  animation: moveRoad 2.6s linear infinite;
}
@keyframes moveRoad{ from{ background-position-x:0 } to{ background-position-x:480px } }
.car{
  position:absolute; bottom: 28px; left:-140px; width: 120px; height: 50px;
  background: #2ed3c6; border-radius: 12px; box-shadow: 0 12px 18px rgba(0,0,0,.35);
  animation: drive 6s ease-in-out infinite;
}
@keyframes drive{
  0%{ transform: translateX(0) }
  50%{ transform: translateX(680px) }
  100%{ transform: translateX(0) }
}
.car::before,.car::after{
  content:""; position:absolute; bottom:-12px; width: 26px; height: 26px; border-radius:50%; background:#0a0a0a;
  box-shadow: inset 0 0 0 4px #2f2f2f;
}
.car::before{ left:12px } .car::after{ right:12px }
.plate{
  position:absolute; bottom:-18px; left:50%; transform: translateX(-50%);
  background: #fff; color:#111; font-weight:800; padding: 2px 6px; border-radius: 4px; font-size: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,.35);
}

/* PLANE scene */
.sky{ width:100%; height:220px; display:block; border-radius: 12px; background: linear-gradient(180deg, #0e1730, #0a1224) }
.path{
  fill:none; stroke: rgba(255,255,255,.35); stroke-width:2; stroke-dasharray:6 8;
}
.plane{ motion-path: path("M 20 250 C 200 50, 600 50, 780 200"); offset-path: path("M 20 250 C 200 50, 600 50, 780 200"); }
.plane-body{ font-size: 24px }
.plane{
  animation: fly 7.5s ease-in-out infinite;
}
@keyframes fly{
  0%{ offset-distance:0% }
  50%{ offset-distance:100% }
  100%{ offset-distance:0% }
}

/* PICNIC scene */
.park{ position:relative; height: 220px; border-radius:12px; background: linear-gradient(180deg, #0b1b21, #0a141a) }
.blanket{
  position:absolute; left:50%; top:56%; transform: translate(-50%, -50%) rotate(2deg);
  width: 220px; height: 120px; border-radius: 12px;
  background:
    linear-gradient(45deg, rgba(255,255,255,.18) 25%, transparent 25%, transparent 75%, rgba(255,255,255,.18) 75%),
    linear-gradient(45deg, rgba(255,255,255,.18) 25%, transparent 25%, transparent 75%, rgba(255,255,255,.18) 75%);
  background-size: 26px 26px; background-position: 0 0, 13px 13px;
  border: 1px solid rgba(255,255,255,.15);
}
.basket{
  position:absolute; left: calc(50% - 120px); top: 48%; width: 44px; height: 30px; border-radius: 6px;
  background: #7b5136; box-shadow: inset 0 -6px 0 rgba(0,0,0,.2);
}
.note{
  position:absolute; left: calc(50% + 100px); top: 44%; width: 34px; height: 34px;
  display:grid; place-items:center; cursor:pointer;
  filter: drop-shadow(0 0 10px rgba(255,180,200,.6));
  animation: bob 2.2s ease-in-out infinite;
}
@keyframes bob{
  0%,100%{ transform: translateY(0) }
  50%{ transform: translateY(-6px) }
}

/* Footer */
.footer{ text-align:center; padding: 16px; color: var(--fg-dim) }

/* Light theme toggle */
.light{
  --fg:#0b0f1a;
  --fg-dim:#2a364b;
  --bg:#f7fbff;
  --bg-soft:#ffffff;
  --card: rgba(0,0,0,0.04);
}
.light #stars{ background: linear-gradient(#f7fbff, #edf5ff) }
.light .topbar{ background: linear-gradient(180deg, rgba(255,255,255,.8), rgba(255,255,255,.5)) }
.light .frame{ border-color: rgba(0,0,0,.25) }
